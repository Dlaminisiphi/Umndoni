{% extends "base.html" %}

{% block title %} Report Page{% endblock %}

{% block content %}

    <!-- Heading for report form -->
    <header>
        <h1>Maintenance Issue Details</h1>
    </header>

    <!-- Container for the report form -->
    <div class="report-form">
        <form action="/submit-report" method="post">
            <!-- Maintenance Issue Details Section -->
            <!-- Dropdown container with a text input field -->
            <h3>Select the Maintenance Issue:</h3>
            <div class="dropdown">
                <!-- Text input field with a placeholder -->
                <input type="text" class="textBox" placeholder="Select the maintenance issue" readonly required>

                <!-- Options container for the dropdown menu -->
                <div class="option">
                    <!-- Each option is a div with an onclick event to trigger the show function -->
                    <!-- Option for "street lights" with an associated image -->
                    <div onclick="show('street lights')">
                        <img src="{{ url_for('static', filename='images/street-light.png') }}" alt="Streetlights Icon" class="dropdown-icon">
                        street lights
                    </div>

                    <!-- Option for "Potholes" with an associated image -->
                    <div onclick="show('Potholes')">
                        <img src="{{ url_for('static', filename='images/pothole.png') }}" alt="Streetlights Icon" class="dropdown-icon">
                        Potholes
                    </div>

                    <!-- Option for "garbage collection" with an associated image -->
                    <div onclick="show('garbage collection')">
                        <img src="{{ url_for('static', filename='images/garbage-truck.png') }}" alt="Streetlights Icon" class="dropdown-icon">
                        garbage collection
                    </div>

                    <!-- Option for "Illegal dumping" with an associated image -->
                    <div onclick="show('Illegal dumping')">
                        <img src="{{ url_for('static', filename='images/throwing-trash.png') }}" alt="Streetlights Icon" class="dropdown-icon">
                        Illegal dumping
                    </div>

                    <!-- Option for "storm drains" with an associated image -->
                    <div onclick="show('storm drains')">
                        <img src="{{ url_for('static', filename='images/sewer.png') }}" alt="Streetlights Icon" class="dropdown-icon">
                        storm drains
                    </div>
                </div>
            </div>

            <!-- Heading for the brief description field -->
            <h3>Brief Description</h3>
            <!-- Field for writing a brief description of the problem -->
            <textarea id="brief-description" name="brief-description" rows="4" placeholder="Write a brief description of the problem" required></textarea>

            <!-- Option to upload an image -->
            <label for="image-upload">Upload Image</label>
            <input type="file" id="image-upload" name="image-upload" accept="image/*">

            <!-- Field for writing the address -->
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" placeholder="Enter the address">

            <!-- Google Map -->
            <!-- Add your Google Map integration code or embed here -->

            <!-- Submit Button -->
            <input type="submit" value="Submit">
        </form>
    </div>

    <!-- JavaScript script for handling the dropdown functionality -->
    <script>
        // Function to update the text input field with the selected issue
        function show(anything){
            document.querySelector('.textBox').value = anything;
        }

        // Event listener for toggling the 'activate' class on the dropdown container
        let dropdown = document.querySelector('.dropdown');
        dropdown.onclick = function(){
            dropdown.classList.toggle('activate');
        }
    </script>
{% endblock %}
